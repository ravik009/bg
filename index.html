<!DOCTYPE html>
<html>
<body>
  <h2>Test Background Remover</h2>
  <input type="file" id="imgInput">
  <button onclick="removeBg()">Upload</button>
  <br><img id="output" style="margin-top:10px; max-width: 300px;">
  <p id="status"></p>

<script>
const API_URL = "https://ravikumar619--abackgroundremover.hf.space";

async function removeBg() {
  const input = document.getElementById("imgInput");
  const status = document.getElementById("status");
  if (!input.files.length) {
    alert("Choose file first"); return;
  }
  status.innerText = "Uploading...";
  const formData = new FormData();
  formData.append("image", input.files[0]);
  try {
    const res = await fetch(API_URL + "/api/remove-bg", {
      method: "POST",
      body: formData
    });
    if (res.ok) {
      const blob = await res.blob();
      document.getElementById("output").src = URL.createObjectURL(blob);
      status.innerText = "Done!";
    } else {
      const err = await res.text();
      status.innerText = "Error: " + err;
    }
  } catch (e) {
    status.innerText = "Network error: " + e.message;
  }
}
</script>
</body>
</html>
